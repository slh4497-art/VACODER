<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>바이브픽</title>
  <meta name="google-adsense-account" content="ca-pub-5463140486730380">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5463140486730380"
     crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <div class="page">
    <header class="hero">
      <p class="eyebrow" data-i18n="eyebrow">selfie vibe match</p>
      <div class="hero-row">
        <div>
          <h1 data-i18n="heroTitle">바이브픽</h1>
          <p class="subtitle" data-i18n="heroSubtitle">지금 찍은 셀피로, 분위기 찰떡인 사진만 보여줘요.</p>
        </div>
        <label class="lang-select">
          <span data-i18n="languageLabel">언어</span>
          <select id="languageSelect" aria-label="Language">
            <option value="ko">한국어</option>
            <option value="en">English</option>
            <option value="ja">日本語</option>
            <option value="es">Español</option>
          </select>
        </label>
      </div>
      <div class="mascot" aria-hidden="true">
        <div class="mascot-card">
          <div class="mascot-head">
            <span class="mascot-eye"></span>
            <span class="mascot-eye"></span>
            <span class="mascot-smile"></span>
          </div>
          <div class="mascot-body"></div>
          <div class="mascot-heart"></div>
        </div>
      </div>
    </header>

    <main class="grid two-column">
      <section class="panel capture-panel">
        <div class="panel-header">
          <h2 data-i18n="captureTitle">즉석 셀피 제출</h2>
          <span class="pill" data-i18n="capturePill">WebCam Only</span>
        </div>

        <div class="camera-grid">
          <div class="camera-wrap" id="cameraWrap">
            <div class="camera-placeholder">
              <p data-i18n="cameraPlaceholder">웹캠 화면</p>
              <small data-i18n="cameraHelp">권한을 허용해주세요.</small>
            </div>
          </div>
          <div class="capture-meta">
            <div class="chip-row">
              <span class="chip" data-i18n="chipNoUpload">파일 업로드 금지</span>
              <span class="chip" data-i18n="chipLiveness">즉석 촬영 확인</span>
            </div>
            <div class="helper" id="livenessHint" data-i18n="livenessHint">랜덤 동작을 수행하고 3초 내에 인증을 완료하세요.</div>
            <div class="actions">
              <button id="startCamBtn" type="button" data-i18n="startCam">웹캠 켜기</button>
              <button class="secondary" id="stopCamBtn" type="button" disabled data-i18n="stopCam">웹캠 끄기</button>
            </div>
            <div class="actions">
              <button id="livenessBtn" type="button" disabled data-i18n="livenessBtn">즉석 촬영 인증</button>
              <button class="secondary" id="captureBtn" type="button" disabled data-i18n="captureBtn">셀피 찍기</button>
            </div>
            <div class="status" id="livenessStatus" data-i18n="livenessStatus">웹캠을 켜면 랜덤 동작이 표시됩니다.</div>
            <div class="challenge" id="challengeText">-</div>
          </div>
        </div>

        <form class="candidate-form" id="submitForm">
          <div class="form-grid">
            <label>
              <span data-i18n="selfGender">내 성별</span>
              <select name="selfGender" id="selfGender" required>
                <option value="" data-i18n="selectPlaceholder">선택</option>
                <option value="female" data-i18n="genderFemale">여성</option>
                <option value="male" data-i18n="genderMale">남성</option>
                <option value="nonbinary" data-i18n="genderOther">기타</option>
              </select>
            </label>
            <label>
              <span data-i18n="targetGender">원하는 상대 성별</span>
              <select name="targetGender" id="targetGender" required>
                <option value="" data-i18n="selectPlaceholder">선택</option>
                <option value="female" data-i18n="genderFemale">여성</option>
                <option value="male" data-i18n="genderMale">남성</option>
                <option value="any" data-i18n="genderAny">무관</option>
              </select>
            </label>
            <label>
              <span data-i18n="scopeLabel">찾는 범위</span>
              <select name="scope" id="scopeSelect" required>
                <option value="global" data-i18n="scopeGlobal">전세계</option>
                <option value="continent" data-i18n="scopeContinent">특정 대륙</option>
                <option value="country" data-i18n="scopeCountry">특정 국가</option>
              </select>
            </label>
            <label id="selfContinentWrap" class="hidden">
              <span data-i18n="selfContinent">내 소속 대륙</span>
              <select name="selfContinent" id="selfContinent">
                <option value="" data-i18n="selectPlaceholder">선택</option>
              </select>
            </label>
            <label id="selfCountryWrap" class="hidden">
              <span data-i18n="selfCountry">내 소속 국가</span>
              <select name="selfCountry" id="selfCountry">
                <option value="" data-i18n="selectPlaceholder">선택</option>
              </select>
            </label>
            <label id="targetContinentWrap" class="hidden">
              <span data-i18n="targetContinent">찾을 대륙</span>
              <select name="targetContinent" id="targetContinent">
                <option value="" data-i18n="selectPlaceholder">선택</option>
              </select>
            </label>
            <label id="targetCountryWrap" class="hidden">
              <span data-i18n="targetCountry">찾을 국가</span>
              <select name="targetCountry" id="targetCountry">
                <option value="" data-i18n="selectPlaceholder">선택</option>
              </select>
            </label>
          </div>

          <label class="full checkbox">
            <input name="consent" type="checkbox" required />
            <span data-i18n="consentText">즉석 촬영 및 데이터 처리에 동의합니다.</span>
          </label>

          <div class="actions">
            <button type="submit" id="submitBtn" disabled data-i18n="submitBtn">셀피 제출하기</button>
            <button class="secondary" type="button" id="resetBtn" data-i18n="resetBtn">입력 초기화</button>
          </div>
        </form>
      </section>

      <section class="panel result-panel">
        <div class="panel-header">
          <h2 data-i18n="resultTitle">어울림 결과</h2>
          <span class="pill">Top 1</span>
        </div>
        <div class="result" id="resultCard">
          <h3 data-i18n="resultEmptyTitle">아직 제출된 셀피가 없어요</h3>
          <p data-i18n="resultEmptyBody">즉석 촬영 인증을 완료하고 셀피를 제출해 주세요.</p>
          <div class="result-photo" id="resultPhoto">
            <span data-i18n="resultPhoto">결과 사진</span>
          </div>
          <div class="result-meta" id="resultMeta">
            <div data-i18n="resultMetaGender">대상 성별: -</div>
            <div data-i18n="resultMetaLocation">대상 지역: -</div>
            <div data-i18n="resultMetaScore">유사도 점수: -</div>
          </div>
        </div>
        <div class="note">
          <strong data-i18n="noteTitle">알림:</strong>
          <span data-i18n="noteBody">국가/대륙은 제출자가 선택한 정보이며, 사진만으로 국가를 판별할 수 없습니다.</span>
        </div>
        <div class="history-panel">
          <h3 data-i18n="historyTitle">저장된 셀피</h3>
          <p class="muted" data-i18n="historyHint">최대 100장까지 저장됩니다.</p>
          <div class="history" id="historyList"></div>
        </div>
      </section>
    </main>

    <section class="panel info-panel">
      <div class="panel-header">
        <h2 data-i18n="aboutTitle">서비스 소개</h2>
        <span class="pill" data-i18n="aboutPill">What it does</span>
      </div>
      <p class="subtitle" data-i18n="aboutSubtitle">즉석 셀피로 분위기(톤/스타일) 유사도가 높은 사진 1장을 보여주는 서비스입니다.</p>
      <ul class="reasons">
        <li data-i18n="aboutPoint1">지금 찍은 셀피만 업로드할 수 있어요(파일 업로드 없음).</li>
        <li data-i18n="aboutPoint2">전 세계 사용자가 올린 셀피 풀에서 가장 비슷한 분위기를 찾습니다.</li>
        <li data-i18n="aboutPoint3">매칭/연결 없이 결과 사진만 보여줍니다.</li>
      </ul>
    </section>

    <section class="panel faq-panel" id="faq">
      <div class="panel-header">
        <h2 data-i18n="faqTitle">자주 묻는 질문</h2>
        <span class="pill">FAQ</span>
      </div>
      <div class="faq-grid">
        <div>
          <h3 data-i18n="faq1Title">어떤 기준으로 어울림을 찾나요?</h3>
          <p data-i18n="faq1Body">이미지 톤/색감/분위기 유사도를 기준으로 가장 가까운 사진을 찾아 보여줍니다.</p>
        </div>
        <div>
          <h3 data-i18n="faq2Title">내 사진은 어디에 저장되나요?</h3>
          <p data-i18n="faq2Body">업로드된 셀피는 매칭을 위해 저장되며, 요청 시 삭제할 수 있습니다.</p>
        </div>
        <div>
          <h3 data-i18n="faq3Title">매칭/연결 기능이 있나요?</h3>
          <p data-i18n="faq3Body">없습니다. 결과 사진만 보여주는 서비스입니다.</p>
        </div>
      </div>
    </section>

    <section class="panel policy-panel" id="policy">
      <div class="panel-header">
        <h2 data-i18n="policyTitle">이용 안내 및 정책</h2>
        <span class="pill" data-i18n="policyPill">Policy</span>
      </div>
      <div class="policy-grid">
        <div>
          <h3 data-i18n="policyPrivacyTitle">개인정보</h3>
          <p data-i18n="policyPrivacyBody">셀피와 선택한 메타데이터(성별/지역)는 매칭을 위해 저장됩니다. 언제든 삭제 요청이 가능합니다.</p>
        </div>
        <div>
          <h3 data-i18n="policyContentTitle">콘텐츠 기준</h3>
          <p data-i18n="policyContentBody">불법·폭력·혐오·성인·기만 콘텐츠는 허용되지 않습니다.</p>
        </div>
        <div>
          <h3 data-i18n="policyContactTitle">문의</h3>
          <p data-i18n="policyContactBody">문의: slh4497@gmail.com</p>
        </div>
      </div>
      <div class="policy-links">
        <a href="/privacy.html" data-i18n="policyLinkPrivacy">개인정보처리방침</a>
        <a href="/terms.html" data-i18n="policyLinkTerms">이용약관</a>
        <a href="/contact.html" data-i18n="policyLinkContact">문의하기</a>
      </div>
    </section>

    <footer class="footer">
      <p data-i18n="footerNote">프로토타입: 즉석 촬영 확인은 보조 지표이며 완벽한 보장은 아닙니다.</p>
      <div class="footer-links">
        <a href="/privacy.html" data-i18n="policyLinkPrivacy">개인정보처리방침</a>
        <a href="/terms.html" data-i18n="policyLinkTerms">이용약관</a>
        <a href="/contact.html" data-i18n="policyLinkContact">문의하기</a>
      </div>
    </footer>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js"></script>
  <script src="/main.js"></script>
</body>
</html>
