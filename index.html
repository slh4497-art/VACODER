<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>즉석 셀피 어울림 찾기</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <div class="page">
    <header class="hero">
      <p class="eyebrow">selfie vibe match</p>
      <div class="hero-row">
        <div>
          <h1>즉석 셀피 어울림 찾기</h1>
          <p class="subtitle">지금 찍은 셀피로, 가장 분위기가 잘 맞는 사람의 사진만 보여줍니다.</p>
        </div>
      </div>
      <div class="mascot" aria-hidden="true">
        <div class="mascot-card">
          <div class="mascot-head">
            <span class="mascot-eye"></span>
            <span class="mascot-eye"></span>
            <span class="mascot-smile"></span>
          </div>
          <div class="mascot-body"></div>
          <div class="mascot-heart"></div>
        </div>
      </div>
    </header>

    <main class="grid two-column">
      <section class="panel capture-panel">
        <div class="panel-header">
          <h2>즉석 셀피 제출</h2>
          <span class="pill">WebCam Only</span>
        </div>

        <div class="camera-grid">
          <div class="camera-wrap" id="cameraWrap">
            <div class="camera-placeholder">
              <p>웹캠 화면</p>
              <small>권한을 허용해주세요.</small>
            </div>
          </div>
          <div class="capture-meta">
            <div class="chip-row">
              <span class="chip">파일 업로드 금지</span>
              <span class="chip">즉석 촬영 확인</span>
            </div>
            <div class="helper" id="livenessHint">랜덤 동작을 수행하고 3초 내에 인증을 완료하세요.</div>
            <div class="actions">
              <button id="startCamBtn" type="button">웹캠 켜기</button>
              <button class="secondary" id="stopCamBtn" type="button" disabled>웹캠 끄기</button>
            </div>
            <div class="actions">
              <button id="livenessBtn" type="button" disabled>즉석 촬영 인증</button>
              <button class="secondary" id="captureBtn" type="button" disabled>셀피 찍기</button>
            </div>
            <div class="status" id="livenessStatus">웹캠을 켜면 랜덤 동작이 표시됩니다.</div>
            <div class="challenge" id="challengeText">-</div>
          </div>
        </div>

        <form class="candidate-form" id="submitForm">
          <div class="form-grid">
            <label>
              내 성별
              <select name="selfGender" id="selfGender" required>
                <option value="">선택</option>
                <option value="female">여성</option>
                <option value="male">남성</option>
                <option value="nonbinary">기타</option>
              </select>
            </label>
            <label>
              원하는 상대 성별
              <select name="targetGender" id="targetGender" required>
                <option value="">선택</option>
                <option value="female">여성</option>
                <option value="male">남성</option>
                <option value="any">무관</option>
              </select>
            </label>
            <label>
              찾는 범위
              <select name="scope" id="scopeSelect" required>
                <option value="global">전세계</option>
                <option value="continent">특정 대륙</option>
                <option value="country">특정 국가</option>
              </select>
            </label>
            <label id="selfContinentWrap" class="hidden">
              내 소속 대륙
              <select name="selfContinent" id="selfContinent">
                <option value="">선택</option>
              </select>
            </label>
            <label id="selfCountryWrap" class="hidden">
              내 소속 국가
              <select name="selfCountry" id="selfCountry">
                <option value="">선택</option>
              </select>
            </label>
            <label id="targetContinentWrap" class="hidden">
              찾을 대륙
              <select name="targetContinent" id="targetContinent">
                <option value="">선택</option>
              </select>
            </label>
            <label id="targetCountryWrap" class="hidden">
              찾을 국가
              <select name="targetCountry" id="targetCountry">
                <option value="">선택</option>
              </select>
            </label>
          </div>

          <label class="full checkbox">
            <input name="consent" type="checkbox" required />
            즉석 촬영 및 데이터 처리에 동의합니다.
          </label>

          <div class="actions">
            <button type="submit" id="submitBtn" disabled>셀피 제출하기</button>
            <button class="secondary" type="button" id="resetBtn">입력 초기화</button>
          </div>
        </form>
      </section>

      <section class="panel result-panel">
        <div class="panel-header">
          <h2>어울림 결과</h2>
          <span class="pill">Top 1</span>
        </div>
        <div class="result" id="resultCard">
          <h3>아직 제출된 셀피가 없어요</h3>
          <p>즉석 촬영 인증을 완료하고 셀피를 제출해 주세요.</p>
          <div class="result-photo" id="resultPhoto">
            <span>결과 사진</span>
          </div>
          <div class="result-meta" id="resultMeta">
            <div>대상 성별: -</div>
            <div>대상 지역: -</div>
            <div>유사도 점수: -</div>
          </div>
        </div>
        <div class="note">
          <strong>알림:</strong> 국가/대륙은 제출자가 선택한 정보이며, 사진만으로 국가를 판별할 수 없습니다.
        </div>
        <div class="history-panel">
          <h3>저장된 셀피</h3>
          <p class="muted">최대 50장까지 저장됩니다.</p>
          <div class="history" id="historyList"></div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>프로토타입: 즉석 촬영 확인은 보조 지표이며 완벽한 보장은 아닙니다.</p>
    </footer>
  </div>

  <script src="/main.js"></script>
</body>
</html>
